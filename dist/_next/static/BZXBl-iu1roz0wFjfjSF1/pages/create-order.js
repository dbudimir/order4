(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"4mXO":function(e,t,a){e.exports=a("7TPF")},"7TPF":function(e,t,a){a("AUvm"),e.exports=a("WEpk").Object.getOwnPropertySymbols},aUsL:function(e,t,a){"use strict";var n=a("ln6h"),r=a.n(n),l=a("zrwo"),s=a("O40h"),i=a("0iUn"),o=a("sLSF"),c=a("MI3g"),u=a("a7VT"),m=a("AT/M"),d=a("Tit0"),p=a("vYYK"),f=a("q1tI"),h=a.n(f),b=a("YFqc"),g=a.n(b),v=a("vDqi"),E=a.n(v),O=a("mzXK"),j=a("c4gF"),S=function(e){function t(){var e;return Object(i.default)(this,t),e=Object(c.default)(this,Object(u.default)(t).call(this)),Object(p.a)(Object(m.default)(e),"componentDidMount",function(){e.setState({email:e.props.email,password:e.props.password,isLoggedIn:!1})}),Object(p.a)(Object(m.default)(e),"updateState",function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(p.a)({},r,n),function(){e.validateFields(r,n)})}),Object(p.a)(Object(m.default)(e),"validateFields",function(t,a){var n=e.state.formErrors,r=e.state.emailValid,l=e.state.passwordValid;switch(t){case"email":r=a.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.email=r?"":"Please use a valid email address.";break;case"password":l=a.length>=7,n.password=l?"":"Please use a password that's longer thant 7 characters"}e.setState({formErrors:n,emailValid:r,passwordValid:l},e.validateAll)}),Object(p.a)(Object(m.default)(e),"validateAll",function(){e.setState({allValid:e.state.emailValid&&e.state.passwordValid})}),Object(p.a)(Object(m.default)(e),"onSubmit",function(){var t=Object(s.default)(r.a.mark(function t(a){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=Object(m.default)(e),s=n.state,E.a.post("https://qsr-order-api.herokuapp.com/api/users/login/",Object(l.a)({},s)).then(function(t){localStorage.token=t.data.token,e.setState({isLoggedIn:!0,userId:t.data.userId}),e.props.signIn(t.data.userName,e.state.email,t.data.userId,!0);var a={userFullName:t.data.userFullName,userName:t.data.userName,email:e.state.email,userId:t.data.userId};e.props.updateUser(a)});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),e.state={userId:"",email:"",password:"",formErrors:{email:"",password:""},emailValid:!1,passwordValid:!1,allValid:!1,isLoggedIn:""},e}return Object(d.default)(t,e),Object(o.default)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"form"},h.a.createElement(O.a,{className:"user-form"},h.a.createElement("h3",null,"Log In"),h.a.createElement("input",{name:"email",onChange:this.updateState,value:this.state.email,type:"text",placeholder:"Enter your email"}),h.a.createElement(j.a,{message:this.state.formErrors.email,state:this.state}),h.a.createElement("input",{name:"password",onChange:this.updateState,value:this.state.password,type:"password",placeholder:"Enter your password"}),h.a.createElement(j.a,{message:this.state.formErrors.password,state:this.state}),h.a.createElement("input",{name:"submit",onClick:this.onSubmit,type:"submit",value:"Log In"}),h.a.createElement("span",{className:"sign-up-now"},"Don't have an account? ",h.a.createElement(g.a,{to:"/signup"}," Click here to sign up now"))))}}]),t}(f.Component);t.a=S},c4gF:function(e,t,a){"use strict";var n=a("0iUn"),r=a("sLSF"),l=a("MI3g"),s=a("a7VT"),i=a("Tit0"),o=a("rt45"),c=a("q1tI"),u=a.n(c);function m(){var e=Object(o.a)(["\n   color: red;\n   line-height: 0;\n   margin-bottom: 12px;\n   font-weight: 700;\n"]);return m=function(){return e},e}var d=a("vOnD").a.div(m()),p=function(e){function t(){return Object(n.default)(this,t),Object(l.default)(this,Object(s.default)(t).apply(this,arguments))}return Object(i.default)(t,e),Object(r.default)(t,[{key:"render",value:function(){return u.a.createElement(d,{className:"error-message"},u.a.createElement("p",null,this.props.message))}}]),t}(c.Component);t.a=p},"jct/":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-order",function(){var e=a("kIO5");return{page:e.default||e}}])},kIO5:function(e,t,a){"use strict";a.r(t);var n=a("zrwo"),r=a("0iUn"),l=a("sLSF"),s=a("MI3g"),i=a("a7VT"),o=a("AT/M"),c=a("Tit0"),u=a("vYYK"),m=a("q1tI"),d=a.n(m),p=a("vDqi"),f=a.n(p),h=a("5Yp1"),b=a("ln6h"),g=a.n(b),v=a("O40h"),E=a("rt45"),O=a("vOnD");function j(){var e=Object(E.a)(["\n   .label {\n      margin-top: 12px;\n      font-weight: 800;\n   }\n   span {\n      display: block;\n   }\n"]);return j=function(){return e},e}var S=O.a.div(j()),w=function(e){function t(){var e;return Object(r.default)(this,t),e=Object(s.default)(this,Object(i.default)(t).call(this)),Object(u.a)(Object(o.default)(e),"updateState",function(){var t=Object(v.default)(g.a.mark(function t(a){var n,r,l;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target,r=n.value,l=n.name,t.next=5,e.setState(Object(u.a)({},l,r));case 5:e.props.setOrder(e.state);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Object(u.a)(Object(o.default)(e),"getSelected",function(){var t=Object(v.default)(g.a.mark(function t(a){var n,r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[].filter.call(document.getElementsByName("filling"),function(e){return e.checked}).map(function(e){return e.value}),r=[].filter.call(document.getElementsByName("topping"),function(e){return e.checked}).map(function(e){return e.value}),t.next=4,e.setState({protiens:n,toppings:r});case 4:e.props.setOrder(e.state);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Object(u.a)(Object(o.default)(e),"submitOrder",Object(v.default)(g.a.mark(function t(){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(function(e){return Object(n.a)({},e,{submitOrder:!0})});case 2:e.props.setOrder(e.state);case 3:case"end":return t.stop()}},t)}))),e.state={contentSchema:"ChipotleOrder",chainName:"Chipotle"},e}return Object(c.default)(t,e),Object(l.default)(t,[{key:"render",value:function(){var e="";return"Tacos"===this.state.mealType&&(e=d.a.createElement("div",null,d.a.createElement("span",{className:"label"},"Tortilla"),d.a.createElement("select",{onChange:this.updateState,className:"text-input",name:"tortilla"},d.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select tortilla"),d.a.createElement("option",{value:"Soft Flour Toritilla"},"Soft Flour Toritilla"),d.a.createElement("option",{value:"Crispy Corn Tortilla"},"Crispy Corn Tortilla")))),d.a.createElement(S,null,d.a.createElement("form",null,d.a.createElement("h2",null,"Create Your Order"),d.a.createElement("span",{className:"label"},"Meal Type"),d.a.createElement("select",{onChange:this.updateState,className:"text-input",name:"mealType"},d.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select meal type"),d.a.createElement("option",{value:"Burrito"},"Burrito"),d.a.createElement("option",{value:"Burrito Bowl"},"Burrito Bowl"),d.a.createElement("option",{value:"Tacos"},"Tacos"),d.a.createElement("option",{value:"Salad"},"Salad")),e,d.a.createElement("div",{onChange:this.getSelected,className:"fillings"},d.a.createElement("span",{className:"label"},"Select Protiens (no more than 2)"),d.a.createElement("span",null,"Chicken",d.a.createElement("input",{type:"checkbox",name:"filling",value:"Chicken"})),d.a.createElement("span",null,"Steak",d.a.createElement("input",{type:"checkbox",name:"filling",value:"Steak"})),d.a.createElement("span",null,"Barbaco",d.a.createElement("input",{type:"checkbox",name:"filling",value:"Barbaco"})),d.a.createElement("span",null,"Carnitas",d.a.createElement("input",{type:"checkbox",name:"filling",value:"Carnitas"})),d.a.createElement("span",null,"Sofritas",d.a.createElement("input",{type:"checkbox",name:"filling",value:"Sofritas"})),d.a.createElement("span",null,"Veggie",d.a.createElement("input",{type:"checkbox",name:"filling",value:"Veggie"}))),d.a.createElement("span",{className:"label"},"Select Rice Option"),d.a.createElement("select",{onChange:this.updateState,className:"text-input",name:"rice"},d.a.createElement("option",{value:"",disabled:!0,selected:!0},"rice"),d.a.createElement("option",{value:"White Rice"},"White Rice"),d.a.createElement("option",{value:"Brown Rice"},"Brown Rice"),d.a.createElement("option",{value:"Both (half/half)"},"Both (half/half)"),d.a.createElement("option",{value:"No Rice"},"No Rice")),d.a.createElement("span",{className:"label"},"Select Beans"),d.a.createElement("select",{onChange:this.updateState,className:"text-input",name:"beans"},d.a.createElement("option",{value:"",disabled:!0,selected:!0},"beans"),d.a.createElement("option",{value:"Black Beans"},"Black Beans"),d.a.createElement("option",{value:"Pinto Beans"},"Pinto Beans"),d.a.createElement("option",{value:"Both (half/half)"},"Both (half/half)"),d.a.createElement("option",{value:"No Beans"},"No Beans")),d.a.createElement("div",{onChange:this.getSelected,className:"toppings"},d.a.createElement("span",{className:"label"},"Add Toppings"),d.a.createElement("span",null,"Cheese",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Cheese"})),d.a.createElement("span",null,"Queso",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Queso"})),d.a.createElement("span",null,"Fresh Tomato Salsa (Mild)",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Fresh Tomato Salsa (Mild)"})),d.a.createElement("span",null,"Roasted Chili-Corn Salsa (Medium)",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Roasted Chili-Corn Salsa (Medium)"})),d.a.createElement("span",null,"Tomatillo-Green Chili Salsa (Medium Hot)",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Tomatillo-Green Chili Salsa (Medium Hot)"})),d.a.createElement("span",null,"Tomatillo-Red Chili Salsa (Hot)",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Tomatillo-Red Chili Salsa (Hot)"})),d.a.createElement("span",null,"Sour Cream",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Sour Cream"})),d.a.createElement("span",null,"Fajita Veggies",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Fajita Veggies"})),d.a.createElement("span",null,"Romaine Lettuce",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Romaine Lettuce"})),d.a.createElement("span",null,"Chipotle-Honey Vinaigrette",d.a.createElement("input",{type:"checkbox",name:"topping",value:"Chipotle-Honey Vinaigrette"})))),d.a.createElement("br",null),d.a.createElement("span",{onClick:this.submitOrder,className:"button",name:"submit",type:"submit"},"Next"))}}]),t}(m.Component),C=function(e){function t(){var e;return Object(r.default)(this,t),(e=Object(s.default)(this,Object(i.default)(t).call(this))).state={chain:"&pizza"},e}return Object(c.default)(t,e),Object(l.default)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("p",null,"testing pizza"))}}]),t}(m.Component),k=function(e){function t(e){var a;return Object(r.default)(this,t),a=Object(s.default)(this,Object(i.default)(t).call(this,e)),Object(u.a)(Object(o.default)(a),"updateState",function(){var e=Object(v.default)(g.a.mark(function e(t){var n,r,l;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,r=n.value,l=n.name,e.next=5,a.setState(Object(u.a)({},l,r));case 5:a.props.setChain(a.state.chainName);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),a.state={},a}return Object(c.default)(t,e),Object(l.default)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("form",null,d.a.createElement("h2",null,"Create Your Order"),d.a.createElement("h3",null,"Select a Restaurant"),d.a.createElement("span",{className:"label"},"Chain Name"),d.a.createElement("select",{onChange:this.updateState,className:"text-input",name:"chainName"},d.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select a chain"),d.a.createElement("option",{value:"Chipotle"},"Chipotle"),d.a.createElement("option",{value:"&pizza"},"&pizza"))))}}]),t}(m.Component),y=a("dfwq"),x=function(e){function t(){var e;return Object(r.default)(this,t),e=Object(s.default)(this,Object(i.default)(t).call(this)),Object(u.a)(Object(o.default)(e),"updateState",function(t){return function(a){var n=a.target,r=n.value,l=n.name;console.log(t),e.setState(Object(u.a)({},l,r),function(){e.handleTagNameChange(r,t)})}}),Object(u.a)(Object(o.default)(e),"handleTagNameChange",function(t,a){var n=e.state.tags[a]=t;e.setState({nextArrayItem:n})}),Object(u.a)(Object(o.default)(e),"handleAddTag",function(){var t=Object(v.default)(g.a.mark(function t(a){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(function(e){return{tags:[].concat(Object(y.default)(e.tags),[""])}});case 2:e.props.setTags(e.state.tags);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Object(u.a)(Object(o.default)(e),"handleRemoveTag",function(t){return function(){var a=Object(y.default)(e.state.tags);-1!==t&&(a.splice(t,1),e.setState({tags:a}))}}),e.state={nextArrayItem:"",tags:[""]},e}return Object(c.default)(t,e),Object(l.default)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("h4",null,"tags"),this.state.tags.map(function(t,a){return d.a.createElement("div",{className:"tag"},d.a.createElement("input",{type:"text",name:"tag".concat(a),value:e.state.tags[a],placeholder:"tag name",onChange:e.updateState(a)}),d.a.createElement("button",{type:"button",onClick:e.handleRemoveTag(a),className:"small"},"-"))}),d.a.createElement("button",{type:"button",onClick:function(){return e.handleAddTag(e.state.currentTag)},className:"small"},"Add tag"))}}]),t}(m.Component);function N(){var e=Object(E.a)(["\n   .label {\n      margin-top: 12px;\n      font-weight: 800;\n   }\n   span {\n      display: block;\n   }\n"]);return N=function(){return e},e}var T=O.a.div(N()),I=function(e){function t(e){var a;return Object(r.default)(this,t),a=Object(s.default)(this,Object(i.default)(t).call(this,e)),Object(u.a)(Object(o.default)(a),"updateState",function(){var e=Object(v.default)(g.a.mark(function e(t){var r,l,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,l=r.value,s=r.name,e.next=5,a.setState({order:Object(n.a)({},a.state.order,Object(u.a)({},s,l))});case 5:a.props.setOrderDetails(a.state.order);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(Object(o.default)(a),"updateUserState",function(e){var t=e.target,n=t.value,r=t.name;a.setState({user:Object(u.a)({},r,n)})}),Object(u.a)(Object(o.default)(a),"updateTags",function(e){console.log(e),a.setState(function(t){return{order:{tags:e}}}),a.props.setOrderDetails(a.state.order)}),a.state={user:{}},a}return Object(c.default)(t,e),Object(l.default)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(T,null,d.a.createElement("h2",null,"Create Your Order"),d.a.createElement("span",{className:"label"},"Name It"),d.a.createElement("p",null,'Give your order a fun name (ex. "The Foil Buster", "The Big Cheese")'),d.a.createElement("input",{onChange:this.updateState,className:"text-input",name:"orderName"}),d.a.createElement("span",{className:"label"},"Description"),d.a.createElement("p",null,"Give your order a short description"),d.a.createElement("input",{onChange:this.updateState,className:"text-input",name:"description"}),d.a.createElement("br",null),d.a.createElement(x,{setTags:this.updateTags}),d.a.createElement("br",null),d.a.createElement("button",{onClick:this.props.toggleSubmitConfirmation,className:"button",name:"submit",type:"submit"},"Submit Order")))}}]),t}(m.Component),V=a("nOHt"),F=a.n(V),B=a("9/ng"),P=a("n8Zo"),z=a("aUsL");function A(){var e=Object(E.a)(["\n   position: fixed;\n   z-index: 1;\n   left: 0;\n   top: 0;\n   width: 100%;\n   height: 100%;\n   overflow: auto;\n   background-color: rgb(0, 0, 0);\n   background-color: rgba(0, 0, 0, 0.4);\n\n   .modal-content {\n      background-color: #fefefe;\n      margin: 15% auto;\n      padding: 20px;\n      border: 1px solid #888;\n      width: 80%;\n   }\n"]);return A=function(){return e},e}var U=O.a.div(A());function D(e){var t,a,r=Object(m.useContext)(B.a),l=function(e){r.switchNextAction(e)},s=function(t){if(t.preventDefault(),localStorage.length>0){var a={order:e.orderState.order,userId:localStorage.userId};f.a.post("https://qsr-order-api.herokuapp.com/api/user-order/create/existing-user",Object(n.a)({},a)).then(function(e){console.log(e.data),F.a.push("/user/".concat(localStorage.userId))})}else if(0===localStorage.length){var r={order:e.orderState.order};f.a.post("https://qsr-order-api.herokuapp.com/api/user-order/create/order",Object(n.a)({},r)).then(function(e){F.a.push({pathname:"/orders/{response.data._id}",query:{orderId:e.data._id}})})}};switch(0===localStorage.length?t=d.a.createElement("div",null,d.a.createElement("p",null,"Create an account so you can save this order to your list."),d.a.createElement("br",null),d.a.createElement("button",{onClick:function(){return l("signup")},type:"button"},"Create Account"),d.a.createElement("br",null),d.a.createElement("button",{onClick:function(){return l("login")},type:"button"},"Login to Existing Account"),d.a.createElement("br",null),d.a.createElement("button",{onClick:s,type:"button"},"Submit Anonymously"),d.a.createElement("br",null),d.a.createElement("span",{onClick:e.toggleSubmitConfirmation},"Go back")):localStorage.length>0&&(t=d.a.createElement("div",null,d.a.createElement("p",null,"Rreview your order before submitting."),d.a.createElement("br",null),d.a.createElement("button",{onClick:s,type:"button"},"Submit Order"),d.a.createElement("br",null),d.a.createElement("span",{onClick:e.toggleSubmitConfirmation},"Go back"))),r.nextAction){case"":a=d.a.createElement("div",null);break;case"signup":a=d.a.createElement("div",null,d.a.createElement(P.a,{signIn:r.signIn,updateUser:e.updateUser}));break;case"login":a=d.a.createElement("div",null,d.a.createElement(z.a,{signIn:r.signIn,updateUser:e.updateUser}))}return d.a.createElement(U,null,d.a.createElement("div",{className:"modal-content"},d.a.createElement("h3",null,"That sounds delicious!"),a,t))}var R=function(e){function t(){var e;return Object(r.default)(this,t),e=Object(s.default)(this,Object(i.default)(t).call(this)),Object(u.a)(Object(o.default)(e),"updateChain",function(t){e.setState(function(e){return Object(n.a)({},e,{chainName:t})})}),Object(u.a)(Object(o.default)(e),"updateOrder",function(t){e.setState(function(e){return Object(n.a)({},e,{order:t})})}),Object(u.a)(Object(o.default)(e),"updateOrderDetails",function(t){e.setState(function(a){return Object(n.a)({},a,{order:Object(n.a)({},e.state.order,t)})})}),Object(u.a)(Object(o.default)(e),"updateUser",function(t){e.setState(function(e){return Object(n.a)({},e,{user:t})})}),Object(u.a)(Object(o.default)(e),"toggleSubmitConfirmation",function(t){e.setState(function(e){return Object(n.a)({},e,{orderSubmitted:!e.orderSubmitted})})}),e.state={chainName:"",order:{},user:{}},e}return Object(c.default)(t,e),Object(l.default)(t,[{key:"render",value:function(){var e,t,a;return"Chipotle"===this.state.chainName&&(e=d.a.createElement(w,{setOrder:this.updateOrder})),"&Pizza"===this.state.chainName&&(e=d.a.createElement(C,{setOrder:this.updateOrder})),!0===this.state.order.submitOrder&&(t=d.a.createElement(I,{setOrderDetails:this.updateOrderDetails,toggleSubmitConfirmation:this.toggleSubmitConfirmation})),!0===this.state.orderSubmitted&&(a=d.a.createElement(D,{orderState:this.state,toggleSubmitConfirmation:this.toggleSubmitConfirmation,updateUser:this.updateUser})),d.a.createElement("div",null,d.a.createElement(h.a,null),d.a.createElement(k,{setChain:this.updateChain}),e,t,a)}}]),t}(m.Component);t.default=R},mzXK:function(e,t,a){"use strict";var n=a("rt45");function r(){var e=Object(n.a)(["\n   display: block;\n   margin: 60px auto 0;\n   width: fit-content;\n   h3 {\n      margin-bottom: 32px;\n   }\n   .label {\n      margin-top: 12px;\n      font-weight: 800;\n   }\n   input {\n      width: 500px;\n      height: 48px;\n      border: 0px;\n      border-bottom: 3px solid #000000;\n      font-size: 32px;\n      margin-bottom: 12px;\n      margin-top: 32px;\n      padding: 0 4px;\n   }\n   input::placeholder {\n      font-size: 32px;\n      padding: 6px 6px 0;\n      line-height: 1;\n   }\n   input[name='submit'] {\n      border-radius: 6px;\n      margin-bottom: 64px;\n      border-bottom: 0px;\n      font-size: 24px;\n      font-weight: 800;\n      background-color: #fa8320;\n      width: 200px;\n   }\n   span {\n      display: block;\n   }\n"]);return r=function(){return e},e}var l=a("vOnD").a.div(r());t.a=l},n8Zo:function(e,t,a){"use strict";var n=a("ln6h"),r=a.n(n),l=a("zrwo"),s=a("O40h"),i=a("0iUn"),o=a("sLSF"),c=a("MI3g"),u=a("a7VT"),m=a("AT/M"),d=a("Tit0"),p=a("vYYK"),f=a("q1tI"),h=a.n(f),b=a("vDqi"),g=a.n(b),v=a("mzXK"),E=a("c4gF"),O=function(e){function t(){var e;return Object(i.default)(this,t),e=Object(c.default)(this,Object(u.default)(t).call(this)),Object(p.a)(Object(m.default)(e),"componentDidMount",function(){e.setState({userFullName:"",userName:e.props.userName,email:e.props.email,password:e.props.password,isLoggedIn:!1})}),Object(p.a)(Object(m.default)(e),"updateState",function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(p.a)({},r,n),function(){e.validateFields(r,n)})}),Object(p.a)(Object(m.default)(e),"onSubmit",function(){var t=Object(s.default)(r.a.mark(function t(a){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=Object(m.default)(e),s=n.state,console.log(e.state),g.a.post("https://qsr-order-api.herokuapp.com/api/users/signup/",Object(l.a)({},s)).then(function(t){localStorage.token=t.data.token,e.setState({userId:t.data.userId,isLoggedIn:!0}),e.props.signIn(t.data.userName,e.state.email,t.data.userId,!0);var a={userFullName:t.data.userFullName,userName:t.data.userName,email:e.state.email,userId:t.data.userId};e.props.updateUser(a)}),alert("You're in!");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),e.state={userId:"",userFullName:"",userName:"",email:"",password:"",passwordConfirm:"",formErrors:{userName:"",email:"",password:"",confirmPassword:""},userNameValid:!1,emailValid:!1,passwordValid:!1,confirmPasswordValid:!1,allValid:!1},e}return Object(d.default)(t,e),Object(o.default)(t,[{key:"validateFields",value:function(e,t){var a=this.state.formErrors,n=this.state.userNameValid,r=this.state.emailValid,l=this.state.passwordValid,s=this.state.confirmPasswordValid;switch(e){case"userName":n=t.length>=1,a.userName=n?"":"Please enter a valid user name";break;case"email":r=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=r?"":"Please use a valid email address.";break;case"password":l=t.length>=7,a.password=l?"":"Please use a password that's longer thant 7 characters";break;case"passwordConfirm":s=this.state.password===this.state.passwordConfirm,a.confirmPassword=s?"":"The passwords do not match."}this.setState({formErrors:a,userNameValid:n,emailValid:r,passwordValid:l,confirmPasswordValid:s},this.validateAll)}},{key:"validateAll",value:function(){this.setState({allValid:this.state.emailValid&&this.state.passwordValid&&this.state.confirmPasswordValid&&this.state.userNameValid})}},{key:"render",value:function(){return h.a.createElement("div",{className:"form"},h.a.createElement(v.a,{className:"signup-form"},h.a.createElement("h3",null,"Sign Up"),h.a.createElement("form",null,h.a.createElement("input",{name:"userFullName",onChange:this.updateState,value:this.state.userFullName,type:"text",placeholder:"Enter your full name"}),h.a.createElement("div",null,h.a.createElement("br",null)),h.a.createElement("input",{name:"userName",onChange:this.updateState,value:this.state.userName,type:"text",placeholder:"Enter a username"}),h.a.createElement(E.a,{message:this.state.formErrors.userName,state:this.state}),h.a.createElement("input",{name:"email",onChange:this.updateState,value:this.state.email,type:"text",placeholder:"Email"}),h.a.createElement(E.a,{message:this.state.formErrors.email,state:this.state}),h.a.createElement("input",{name:"password",onChange:this.updateState,value:this.state.password,type:"password",placeholder:"Password"}),h.a.createElement(E.a,{message:this.state.formErrors.password,state:this.state}),h.a.createElement("input",{name:"passwordConfirm",onChange:this.updateState,value:this.state.passwordConfirm,type:"password",placeholder:"Re-enter password"}),h.a.createElement(E.a,{message:this.state.formErrors.confirmPassword,state:this.state}),h.a.createElement("input",{name:"submit",onClick:this.onSubmit,type:"submit",value:"Sign Up"}))))}}]),t}(f.Component);t.a=O},zrwo:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a("Jo+v"),r=a.n(n),l=a("4mXO"),s=a.n(l),i=a("pLtp"),o=a.n(i),c=a("vYYK");function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=o()(a);"function"===typeof s.a&&(n=n.concat(s()(a).filter(function(e){return r()(a,e).enumerable}))),n.forEach(function(t){Object(c.a)(e,t,a[t])})}return e}}},[["jct/",1,0]]]);